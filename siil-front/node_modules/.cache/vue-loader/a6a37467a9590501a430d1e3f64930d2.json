{"remainingRequest":"C:\\Users\\darks\\Documents\\GitHub\\SIILv3\\siil-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\darks\\Documents\\GitHub\\SIILv3\\siil-front\\src\\components\\Areas.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\darks\\Documents\\GitHub\\SIILv3\\siil-front\\src\\components\\Areas.vue","mtime":1606369068255},{"path":"C:\\Users\\darks\\Documents\\GitHub\\SIILv3\\siil-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1601483722000},{"path":"C:\\Users\\darks\\Documents\\GitHub\\SIILv3\\siil-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1601483722000},{"path":"C:\\Users\\darks\\Documents\\GitHub\\SIILv3\\siil-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1601483722000},{"path":"C:\\Users\\darks\\Documents\\GitHub\\SIILv3\\siil-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIGFycmF5QXJlYXM6W10sCiAgICAgIGhUQkFyZWFzOlsKICAgICAgICB7dGV4dDoiTm9tYnJlIiwgdmFsdWU6Im5vbWJyZSIgLCBjbGFzczonYmx1ZS1ncmV5IGxpZ2h0ZW4tNCAnfSwKICAgICAgICB7dGV4dDoiQWNjaW9uZXMiLCB2YWx1ZToiYWN0aW9uIixzb3J0YWJsZTpmYWxzZSxhbGluZzoiY2VudGVyIixjbGFzczonYmx1ZS1ncmV5IGxpZ2h0ZW4tNCd9LAogICAgICBdLAogICAgICBsb2FkZXI6ZmFsc2UsCiAgICAgIHNlYXJjaEFyZWFzOiIiLAogICAgICBtb2RhbEFyZWFzOmZhbHNlLAogICAgICBhcmVhczp7CiAgICAgICAgaWQ6bnVsbCwKICAgICAgICBub21icmU6bnVsbCwKICAgICAgfSwKICAgICAgdmFsaWRGb3JtOnRydWUsCiAgICAgIHNuYWNrYmFyOmZhbHNlLAogICAgICBtc2pTbmFja0JhcjoiIiwKICAgICAgZXJyb3JzTm9tYnJlOltdLAogICAgICBlZGl0ZWRBcmVhczotMSwKICAgICAgcHJ1ZWJhOiBudWxsLAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBmb3JtVGl0bGUoKXsKICAgICAgcmV0dXJuIHRoaXMuYXJlYXMuaWQgPT0gbnVsbAogICAgICA/ICJBZ3JlZ2FyIEFyZWFzIgogICAgICA6ICJBY3R1YWxpemFyIEFyZWFzIjsKICAgIH0sCiAgICBidG5UaXRsZSgpewogICAgICByZXR1cm4gdGhpcy5hcmVhcy5pZCA9PSBudWxsID8gIkd1YXJkYXIiIDogIkFjdHVhbGl6YXIiOwogICAgfSwKICB9LAogIAogIG1ldGhvZHM6IHsKICAgIGZldGNoQXJlYXMoKSB7ICAKICAgICAgbGV0IHRva2VuID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndG9rZW5TJyk7CiAgICAgIGxldCBtZSA9IHRoaXMsCiAgICAgICBoZWFkZXIgPSB7CiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAiQXV0aG9yaXphdGlvbiI6ICJCZWFyZXIgIisgdG9rZW4sCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9OwogICAgICAgICAgICAgCiAgICAgIG1lLmxvYWRlciA9IHRydWU7CiAgICAgIG1lLiRodHRwLmdldChgJHttZS4kdXJsfS9hcmVhc2AsaGVhZGVyKQogICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSl7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKQogICAgICAgIG1lLmFycmF5QXJlYXMgPSByZXNwb25zZS5kYXRhOwogICAgICAgIG1lLmxvYWRlciA9IGZhbHNlOwogICAgICB9KQogICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyb3IpewogICAgICAgIG1lLmxvYWRlciA9IGZhbHNlOwogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgY2VycmFyTW9kYWwoKXsKICAgICAgbGV0IG1lID0gdGhpczsKICAgICAgbWUubW9kYWxBcmVhcyA9IGZhbHNlOwogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICBtZS5hcmVhcz17CiAgICAgICAgICBpZDpudWxsLAogICAgICAgICAgbm9tYnJlOiIiLAogICAgICAgIH07CiAgICAgICAgbWUucmVzZXRWYWxpZGF0aW9uKCk7CiAgICAgIH0sIDMwMCk7CiAgICB9LAogICAgcmVzZXRWYWxpZGF0aW9uKCkgewogICAgICBsZXQgbWUgPSB0aGlzOwogICAgICBtZS5lcnJvcnNOb21icmUgPSBbXTsKICAgICAgbWUuJHJlZnMuZm9ybUFyZWFzLnJlc2V0VmFsaWRhdGlvbigpOwogICAgfSwKICAgIHNob3dNb2RhbEVkaXRhcihhcmVhKSB7CiAgICAgIGxldCBtZSA9IHRoaXM7CiAgICAgIG1lLmVkaXRlZEFyZWFzID0gbWUuYXJyYXlBcmVhcy5pbmRleE9mKGFyZWEpOwogICAgICBtZS5hcmVhcyA9IE9iamVjdC5hc3NpZ24oe30sYXJlYSk7CiAgICAgIG1lLm1vZGFsQXJlYXMgPSB0cnVlOwogICAgfSwKICAgIC8qc2F2ZUFyZWFzKCkgewogICAgICBsZXQgbWUgPSB0aGlzOwogICAgIAogICAgICBpZihtZS4kcmVmcy5mb3JtQXJlYXMudmFsaWRhdGUoKSkgewogICAgICAgIGxldCBhY2Npb24gPSBtZS5hcmVhcy5pZCA9PSBudWxsID8gImFkZCIgOiAidXBkIjsKICAgICAgICBtZS5sb2FkZXIgPSB0cnVlOwogICAgICAgIG1lLiRodHRwCiAgICAgICAgICAucG9zdChgJHttZS4kdXJsfS9hcmVhc2AsIG1lLmFyZWFzKQogICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgICAgbWUudmVyaWZpY2FyQWNjaW9uRGF0byhyZXNwb25zZS5kYXRhLCByZXNwb25zZS5zdGF0dXMsIGFjY2lvbik7CiAgICAgICAgICAgIG1lLmNlcnJhck1vZGFsKCk7CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgLy80MDkgY29uZmxpY3RzIEVycm9yIChQcm92ZWVkb3IgeWEgZXhpc3RlIGVuIGxhIGJhc2UgZGUgZGF0b3MpCiAgICAgICAgICAgIGlmKGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PSA0MDkpIHsKICAgICAgICAgICAgICBtZS5zZXRNZXNzYWdlVG9TbmFja0JhcigiQXJlYXMgWWEgRXhpc3RlbnRlIiwgdHJ1ZSk7CiAgICAgICAgICAgICAgbWUuZXJyb3JzTm9tYnJlID0gWyJOb21icmUgZGUgbGEgQXJlYXMgeWEgRXhpc3RlbnRlIl07CiAgICAgICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgICBtZS4kc3dhbCgiRXJyb3IiLCAiT2N1cnJpZG8gVW4gRXJyb3IgSW50ZW50ZSBkZSBOdWV2b3ZhbWVudGUiLCAiZXJyb3IiKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBtZS5sb2FkZXIgPSBmYWxzZTsKICAgICAgICAgIH0pOwogICAgICAgICAgfWVsc2V7CiAgICAgICAgICAvL3BhcmEgYWN0dWFsaXphcgogICAgICAgICAgbWUuJGh0dHAucHV0KCcvYXJlYXMvJyttZS5hcmVhLmlkLCBtZS5hcmVhKQogICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICAgICAgbWUudmVyaWZpY2FyQWNjaW9uRGF0byhyZXNwb25zZS5kYXRhLCByZXNwb25zZS5zdGF0dXMsICJ1cGQiKTsKICAgICAgICAgICAgICAgICAgbWUuY2VycmFyTW9kYWwoKTsKICAgICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICBtZS5sb2FkZXIgPSBmYWxzZTsgCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sKi8KICAgIHNhdmVBcmVhcygpIHsKICAgIGxldCBtZSA9IHRoaXM7CiAgICBpZiAobWUuJHJlZnMuZm9ybUFyZWFzLnZhbGlkYXRlKCkpIHsKICAgICAgbGV0IGFjY2lvbiA9IG1lLmFyZWFzLmlkID09IG51bGwgPyAiYWRkIiA6ICJ1cGQiOwogICAgICBtZS5sb2FkZXIgPSB0cnVlOwogICAgICBpZihhY2Npb249PSJhZGQiKXsKICAgICAgICAgbWUuJGh0dHAucG9zdChgJHttZS4kdXJsfS9hcmVhc2AsIG1lLmFyZWFzKQogICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgIG1lLnZlcmlmaWNhckFjY2lvbkRhdG8ocmVzcG9uc2UuZGF0YSwgcmVzcG9uc2Uuc3RhdHVzLCBhY2Npb24pOwogICAgICAgICAgbWUuY2VycmFyTW9kYWwoKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaChmdW5jdGlvbihlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgLy80MDkgQ29uZmxpY3RzIEVycm9yIChQcm92ZWVkb3IgWWEgRXhpc3RlbnRlIEVuIGxhIEJEKQogICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PSA0MDkpIHsKICAgICAgICAgICAgbWUuc2V0TWVzc2FnZVRvU25hY2tCYXIoIkFyZWEgWWEgRXhpc3RlIiwgdHJ1ZSk7CiAgICAgICAgICAgIG1lLmVycm9yc05vbWJyZSA9IFsiTm9tYnJlIERlIEFyZWEgRXhpc3RlbnRlIl07CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBtZS4kc3dhbCgiRXJyb3IiLCAiT2N1cnJpbyBVbiBFcnJvciBJbnRlbnRlIE51ZXZhbWVudGUiLCAiZXJyb3IiKTsKICAgICAgICAgIH0KICAgICAgICAgIG1lLmxvYWRlciA9IGZhbHNlOwogICAgICAgIH0pOwogICAgICB9ZWxzZXsKICAgICAgICAgIC8vcGFyYSBhY3R1YWxpemFyCiAgICAgICAgICBtZS4kaHR0cC5wdXQoYCR7bWUuJHVybH0vYXJlYXMvYCsgbWUuYXJlYXMuaWQsbWUuYXJlYXMpCiAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2Uuc3RhdHVzKTsKICAgICAgICAgICAgbWUudmVyaWZpY2FyQWNjaW9uRGF0byhyZXNwb25zZS5kYXRhLCByZXNwb25zZS5zdGF0dXMsICJ1cGQiKTsKICAgICAgICAgICAgIG1lLmNlcnJhck1vZGFsKCk7CiAgICAgICAgICB9KQogICAgICAgIC5jYXRjaChmdW5jdGlvbihlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgbWUubG9hZGVyID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIAogICAgfQogIH0sCiAgICBzZXRNZXNzYWdlVG9TbmFja0Jhcihtc2osIGVzdGFkbykgewogICAgICBsZXQgbWUgPSB0aGlzOwogICAgICBtZS5zbmFja2JhciA9IGVzdGFkbzsKICAgICAgbWUubXNqU25hY2tCYXIgPSBtc2o7CiAgICB9LAogICAgZGVsZXRlQXJlYXMoYXJlYXMpIHsKICAgICAgbGV0IG1lID0gdGhpczsKICAgICAgCiAgICAgIG1lLmVkaXRlZEFyZWFzID0gbWUuYXJyYXlBcmVhcy5pbmRleE9mKGFyZWFzKTsKICAgICAgIGNvbnN0IFRvYXN0ID0gbWUuJHN3YWwubWl4aW4oewogICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgcG9zaXRpb246ICJib3R0b20tZW5kIiwKICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IHRydWUsCiAgICAgICAgIHRpbWVyOiAzMDAwCiAgICAgICB9KTsKICAgICAgIG1lLiRzd2FsKHsKICAgICAgICAgdGl0bGU6ICJFbGltaW5hciBBcmVhPyIsCiAgICAgICAgIHRleHQ6ICJVbmEgdmV6IHJlYWxpemFkYSBsYSBhY2Npb24gbm8gc2UgcG9kcmEgcmV2ZXJ0aXIgIiwKICAgICAgICAgaWNvbjogInF1ZXN0aW9uIiwKICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICJTaSIsCiAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICJObyIsCiAgICAgICAgIHJldmVyc2VCdXR0b25zOiB0cnVlLAogICAgICAgICBmb2N1c0NvbmZpcm06IGZhbHNlLAogICAgICAgICBmb2N1c0NhbmNlbDogdHJ1ZSwKICAgICAgICAgc2hvd0Nsb3NlQnV0dG9uOiB0cnVlCiAgICAgICB9KS50aGVuKHJlc3VsdCA9PiB7CiAgICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgICBtZS5sb2FkZXIgPSB0cnVlOwogICAgICAgICAgIG1lLiRodHRwCiAgICAgICAgICAgIC5kZWxldGUoYCR7bWUuJHVybH0vYXJlYXMvYCsgYXJlYXMuaWQpCiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXsKICAgICAgICAgICAgICAKICAgICAgICAgICAgICBtZS52ZXJpZmljYXJBY2Npb25EYXRvKHJlc3BvbnNlLmRhdGEsIHJlc3BvbnNlLnN0YXR1cywgImRlbCIpOwogICAgICAgICAgICAgIG1lLmxvYWRlciA9IGZhbHNlOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHsKICAgICAgICAgICAgICBpZihlcnJvci5yZXNwb25zZS5zdGF0dXMgPT0gNTEwKXsKICAgICAgICAgICAgICAgIFRvYXN0LmZpcmUoewogICAgICAgICAgICAgICAgICBpY29uOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICB0aXRsZTogIk5vIHNlIHB1ZWRlIGVsaW1pbmFyIGVzdGEgQXJlYXMsIHRpZW5lIHJlZ2lzdHJhZG9zIgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIG1lLmxvYWRlciA9IGZhbHNlOwogICAgICAgICAgICB9KTsKICAgICAgICAgfQogICAgICAgfSk7CiAgICB9LAogICAgdmVyaWZpY2FyQWNjaW9uRGF0byhhcmVhcywgc3RhdHVzQ29kZSwgYWNjaW9uKSB7CiAgICAgIGxldCBtZSA9IHRoaXM7CgogICAgICBjb25zdCBUb2FzdCA9IG1lLiRzd2FsLm1peGluKHsKICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICBwb3NpdGlvbjogImJvdHRvbS1lbmQiLAogICAgICAgIHNob3dDb25maXJtQnV0dG9uOiB0cnVlLAogICAgICAgIHRpbWVyOiAzMDAwCiAgICAgIH0pOwoKICAgICAgc3dpdGNoIChhY2Npb24pIHsKICAgICAgICBjYXNlICJhZGQiOgogICAgICAgICAgLy9BZ3JlZ28gYWwgYXJyYXkgZGUgY2F0ZWdvcmlhcyBlbCBvYmpldG8gcXVlIGRldnVlbHZlIGVsIGJhY2tlbmQKICAgICAgICAgIG1lLmFycmF5QXJlYXMudW5zaGlmdChhcmVhcyk7CiAgICAgICAgICBUb2FzdC5maXJlKHsKICAgICAgICAgICAgaWNvbjogInN1Y2Nlc3MiLAogICAgICAgICAgICB0aXRsZTogIkFyZWFzIFJlZ2lzdHJhZGEgY29uIEV4aXRvIgogICAgICAgICAgfSk7CiAgICAgICAgICBtZS5sb2FkZXIgPSBmYWxzZTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJ1cGQiOgogICAgICAgICAgLy9BY3R1YWxpemFuZG8gYWwgYXJyYXkgZGUgY2F0ZWdvcmlhcyBlbCBvYmpldG8gcXVlIGRldnVlbHZlIGVsIEJhY2tlbmQgeWEgY29uIGxvcyBkYXRvcwogICAgICAgICAgLy9PYmplY3QuYXNzaWduKG1lLmFycmF5QXJlYXNbbWUuZWRpdGVkQXJlYXNdLCBhcmVhcyk7CiAgICAgICAgICB0aGlzLmZldGNoQXJlYXMoKTsgCiAgICAgICAgICBUb2FzdC5maXJlKHsKICAgICAgICAgICAgaWNvbjoic3VjY2VzcyIsCiAgICAgICAgICAgIHRpdGxlOiAiQXJlYXMgQWN0dWFsaXphZGEgY29uIEV4aXRvIgogICAgICAgICAgfSk7CiAgICAgICAgICBtZS5sb2FkZXIgPSBmYWxzZTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgImRlbCI6CiAgICAgICAgICBpZiAoc3RhdHVzQ29kZSA9PSAyMDApIHsKICAgICAgICAgICAgdHJ5ewogICAgICAgICAgICAgIC8vc2UgZWxpbWluYSBkZWwgYXJyYXkgZGUgY2F0ZWdvcmlhcyBhY3Rpdm9zIHNpIHRvZG8gZXN0YSBiaWVuIGVuIGVsIGJhY2tlbmQKICAgICAgICAgICAgICBtZS5hcnJheUFyZWFzLnNwbGljZShtZS5lZGl0ZWRBcmVhcywgMSk7CiAgICAgICAgICAgICAgLy9zZSBsYW56YSBtZW5zYWplIGZpbmFsCiAgICAgICAgICAgICAgbWUuJHN3YWwuZmlyZSgiRWxpbWluYWRvIiwgIkFyZWEgRWxpbWluYWRhIiwgInN1Y2Nlc3MiKTsKICAgICAgICAgICAgfWNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgfQogICAgICAgICAgfWVsc2UgewogICAgICAgICAgICBUb2FzdC5maXJlKHsKICAgICAgICAgICAgICBpY29uOiAiZXJyb3IiLAogICAgICAgICAgICAgIHRpdGxlOiAiT2N1cnJpZG8gdW4gRXJyb3IgSW50ZW50ZSBOdWV2YW1lbnRlIgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9LAoKICB9LAogIG1vdW50ZWQoKSB7CiAgICAgCiAgICBsZXQgeCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Rva2VuUycpOwogICAgaWYoeCAhPSBudWxsKXsKICAgICAgdGhpcy5mZXRjaEFyZWFzKCk7CiAgICB9ZWxzZXsKICAgICAgIAogICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9sb2dpbicpCiAgICB9CiAgICAgCiAgfSwKfTsK"},{"version":3,"sources":["Areas.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA","file":"Areas.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n\r\n<div class=\"content\">\r\n  \r\n  \r\n  <div class=\"md-layout-item md-medium-size-100 md-xsmall-sixe-100 md-size-100\">\r\n    \r\n    <v-overlay :value=\"loader\" :z-index=\"'99999999'\">\r\n        <v-progress-circular indeterminate size=\"80\" color=\"grey darken-4\"></v-progress-circular>\r\n    </v-overlay>\r\n    <v-card>\r\n      <v-card-title>\r\n        Listado de Areas de empresas\r\n       <div class=\"flex-grow-1\"></div>\r\n        <v-text-field\r\n          v-model=\"searchAreas\"\r\n          append-icon=\"search\"\r\n          label=\"Buscar\"\r\n          single-line\r\n          hide-details\r\n        ></v-text-field>\r\n      </v-card-title>\r\n      <v-data-table\r\n        \r\n        :headers=\"hTBAreas\"\r\n        :items=\"arrayAreas\"\r\n        :footer-props=\"{\r\n          'items-per-page-options' :[5,10,15,20,30],\r\n          'items-per-page-text' :'Registros por Página'\r\n        }\"\r\n        :items-per-page=\"5\"\r\n        :search=\"searchAreas\"\r\n        multi-sort\r\n        class=\"elevation-3 text--center ml-80 pl-10 pr-10\"\r\n      >\r\n      <!-- Templeate para form modal para agregar o actualizar categorias-->\r\n    <template v-slot:top>\r\n      <v-toolbar flat color=\"white\">\r\n        \r\n        <div class=\"flex-grow-1\"></div>\r\n        <v-dialog v-model=\"modalAreas\" persistent max-width=\"700px\">\r\n          \r\n          <template v-slot:activator=\"{ on }\">\r\n            \r\n           <v-btn elevation=\"10\" color=\"blue darken-1\" dark class=\"mb-2\" v-on=\"on\">\r\n              Agregar&nbsp;&nbsp;\r\n              <v-icon>library_add</v-icon>\r\n            </v-btn>\r\n          </template>\r\n          <v-card>\r\n            <v-card-title class=\"headline light-blue lighten-5\" primary-titles>\r\n              <span class=\"headline\" v-text=\"formTitle\"></span>\r\n            </v-card-title>\r\n            <v-card-text>\r\n              <v-container>\r\n                <v-form ref=\"formAreas\" v-model=\"validForm\" :lazy-validation=\"true\">\r\n                <v-text-field\r\n                  append-icon=\"mdi-folder-outline\"\r\n                  v-model=\"areas.nombre\"\r\n                  @keyup=\"errorsNombre = []\"\r\n                  :rules=\"[v => !!v || 'Nombre Es Requerido']\"\r\n                  label=\"Nombre\"\r\n                  required\r\n                  :error-messages=\"errorsNombre\"\r\n                  ></v-text-field>  \r\n                      </v-form>\r\n              </v-container>\r\n            </v-card-text>\r\n            <v-divider></v-divider>           \r\n              <v-card-actions>\r\n                <div class=\"flex-grow-1\"></div>\r\n                <v-btn color=\"red darken-1\" text @click=\"cerrarModal\">Cerrar</v-btn>\r\n                <v-btn\r\n                  color=\"info darken-1\"\r\n                  :disabled=\"!validForm\"\r\n                  @click=\"saveAreas()\"\r\n                  text\r\n                  v-text=\"btnTitle\"\r\n                ></v-btn>\r\n              </v-card-actions>          \r\n          </v-card>\r\n        </v-dialog>\r\n      </v-toolbar>\r\n</template>\r\n      <!--Template para la columna de acciones -->\r\n      <template v-slot:item.action=\"{item}\">\r\n        <v-tooltip top>\r\n          <template v-slot:activator=\"{on}\">\r\n            <v-btn\r\n              color=\"success\"            \r\n              elevation=\"8\"\r\n              small\r\n              fab\r\n              dark\r\n              :disabled=\"item.id<0\"\r\n              v-on=\"on\"\r\n              @click=\"showModalEditar(item)\"\r\n            >\r\n            <v-icon>create</v-icon>\r\n            </v-btn>\r\n          </template>\r\n          <span>Actualizar Datos</span>\r\n        </v-tooltip>\r\n        &nbsp;&nbsp;\r\n        <v-tooltip top>\r\n          <template v-slot:activator=\"{on}\">\r\n            <v-btn\r\n              color=\"info\"            \r\n              elevation=\"8\"\r\n              small\r\n              dark\r\n              fab\r\n              :disabled=\"item.id < 0\"\r\n              v-on=\"on\"\r\n              @click=\"deleteAreas(item)\"\r\n            >\r\n            <v-icon>delete</v-icon>\r\n            </v-btn>\r\n          </template>\r\n          <span>Eliminar Registro</span>\r\n        </v-tooltip>\r\n      </template>\r\n      <v-snackbar v-model=\"snackbar\">\r\n          {{ msjSnackBar}}\r\n          <v-btn color=\"red\" text @click=\"snackbar = false\">Cerrar</v-btn>\r\n      </v-snackbar>\r\n      </v-data-table>\r\n    </v-card>\r\n  </div>\r\n</div>\r\n  \r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    data () {\r\n      return {\r\n        arrayAreas:[],\r\n        hTBAreas:[\r\n          {text:\"Nombre\", value:\"nombre\" , class:'blue-grey lighten-4 '},\r\n          {text:\"Acciones\", value:\"action\",sortable:false,aling:\"center\",class:'blue-grey lighten-4'},\r\n        ],\r\n        loader:false,\r\n        searchAreas:\"\",\r\n        modalAreas:false,\r\n        areas:{\r\n          id:null,\r\n          nombre:null,\r\n        },\r\n        validForm:true,\r\n        snackbar:false,\r\n        msjSnackBar:\"\",\r\n        errorsNombre:[],\r\n        editedAreas:-1,\r\n        prueba: null,\r\n      };\r\n    },\r\n    computed: {\r\n      formTitle(){\r\n        return this.areas.id == null\r\n        ? \"Agregar Areas\"\r\n        : \"Actualizar Areas\";\r\n      },\r\n      btnTitle(){\r\n        return this.areas.id == null ? \"Guardar\" : \"Actualizar\";\r\n      },\r\n    },\r\n    \r\n    methods: {\r\n      fetchAreas() {  \r\n        let token = sessionStorage.getItem('tokenS');\r\n        let me = this,\r\n         header = {\r\n              headers: {\r\n                \"Authorization\": \"Bearer \"+ token,\r\n              },\r\n            };\r\n               \r\n        me.loader = true;\r\n        me.$http.get(`${me.$url}/areas`,header)\r\n        .then(function(response){\r\n            console.log(response.data)\r\n          me.arrayAreas = response.data;\r\n          me.loader = false;\r\n        })\r\n        .catch(function(error){\r\n          me.loader = false;\r\n          console.log(error);\r\n        });\r\n      },\r\n      cerrarModal(){\r\n        let me = this;\r\n        me.modalAreas = false;\r\n        setTimeout(() => {\r\n          me.areas={\r\n            id:null,\r\n            nombre:\"\",\r\n          };\r\n          me.resetValidation();\r\n        }, 300);\r\n      },\r\n      resetValidation() {\r\n        let me = this;\r\n        me.errorsNombre = [];\r\n        me.$refs.formAreas.resetValidation();\r\n      },\r\n      showModalEditar(area) {\r\n        let me = this;\r\n        me.editedAreas = me.arrayAreas.indexOf(area);\r\n        me.areas = Object.assign({},area);\r\n        me.modalAreas = true;\r\n      },\r\n      /*saveAreas() {\r\n        let me = this;\r\n       \r\n        if(me.$refs.formAreas.validate()) {\r\n          let accion = me.areas.id == null ? \"add\" : \"upd\";\r\n          me.loader = true;\r\n          me.$http\r\n            .post(`${me.$url}/areas`, me.areas)\r\n            .then(function(response) {\r\n              me.verificarAccionDato(response.data, response.status, accion);\r\n              me.cerrarModal();\r\n            })\r\n            .catch(function(error) {\r\n              console.log(error);\r\n              //409 conflicts Error (Proveedor ya existe en la base de datos)\r\n              if(error.response.status == 409) {\r\n                me.setMessageToSnackBar(\"Areas Ya Existente\", true);\r\n                me.errorsNombre = [\"Nombre de la Areas ya Existente\"];\r\n              }else {\r\n                me.$swal(\"Error\", \"Ocurrido Un Error Intente de Nuevovamente\", \"error\");\r\n              }\r\n              me.loader = false;\r\n            });\r\n            }else{\r\n            //para actualizar\r\n            me.$http.put('/areas/'+me.area.id, me.area)\r\n               .then(function(response) {\r\n                   console.log(response.data);\r\n                    me.verificarAccionDato(response.data, response.status, \"upd\");\r\n                    me.cerrarModal();\r\n            })\r\n          .catch(function(error) {\r\n            console.log(error);\r\n            me.loader = false; \r\n          });\r\n        }\r\n      },*/\r\n      saveAreas() {\r\n      let me = this;\r\n      if (me.$refs.formAreas.validate()) {\r\n        let accion = me.areas.id == null ? \"add\" : \"upd\";\r\n        me.loader = true;\r\n        if(accion==\"add\"){\r\n           me.$http.post(`${me.$url}/areas`, me.areas)\r\n            .then(function(response) {\r\n            me.verificarAccionDato(response.data, response.status, accion);\r\n            me.cerrarModal();\r\n          })\r\n          .catch(function(error) {\r\n            console.log(error);\r\n            //409 Conflicts Error (Proveedor Ya Existente En la BD)\r\n            if (error.response.status == 409) {\r\n              me.setMessageToSnackBar(\"Area Ya Existe\", true);\r\n              me.errorsNombre = [\"Nombre De Area Existente\"];\r\n            } else {\r\n              me.$swal(\"Error\", \"Ocurrio Un Error Intente Nuevamente\", \"error\");\r\n            }\r\n            me.loader = false;\r\n          });\r\n        }else{\r\n            //para actualizar\r\n            me.$http.put(`${me.$url}/areas/`+ me.areas.id,me.areas)\r\n            .then(function(response) {\r\n              console.log(response.data);\r\n              console.log(response.status);\r\n              me.verificarAccionDato(response.data, response.status, \"upd\");\r\n               me.cerrarModal();\r\n            })\r\n          .catch(function(error) {\r\n            console.log(error);\r\n            me.loader = false;\r\n          });\r\n        }\r\n      \r\n      }\r\n    },\r\n      setMessageToSnackBar(msj, estado) {\r\n        let me = this;\r\n        me.snackbar = estado;\r\n        me.msjSnackBar = msj;\r\n      },\r\n      deleteAreas(areas) {\r\n        let me = this;\r\n        \r\n        me.editedAreas = me.arrayAreas.indexOf(areas);\r\n         const Toast = me.$swal.mixin({\r\n           toast: true,\r\n           position: \"bottom-end\",\r\n           showConfirmButton: true,\r\n           timer: 3000\r\n         });\r\n         me.$swal({\r\n           title: \"Eliminar Area?\",\r\n           text: \"Una vez realizada la accion no se podra revertir \",\r\n           icon: \"question\",\r\n           showCancelButton: true,\r\n           confirmButtonText: \"Si\",\r\n           cancelButtonText: \"No\",\r\n           reverseButtons: true,\r\n           focusConfirm: false,\r\n           focusCancel: true,\r\n           showCloseButton: true\r\n         }).then(result => {\r\n           if (result.value) {\r\n             me.loader = true;\r\n             me.$http\r\n              .delete(`${me.$url}/areas/`+ areas.id)\r\n              .then(function(response){\r\n                \r\n                me.verificarAccionDato(response.data, response.status, \"del\");\r\n                me.loader = false;\r\n              })\r\n              .catch(function(error) {\r\n                if(error.response.status == 510){\r\n                  Toast.fire({\r\n                    icon: \"error\",\r\n                    title: \"No se puede eliminar esta Areas, tiene registrados\"\r\n                  });\r\n                }\r\n                me.loader = false;\r\n              });\r\n           }\r\n         });\r\n      },\r\n      verificarAccionDato(areas, statusCode, accion) {\r\n        let me = this;\r\n\r\n        const Toast = me.$swal.mixin({\r\n          toast: true,\r\n          position: \"bottom-end\",\r\n          showConfirmButton: true,\r\n          timer: 3000\r\n        });\r\n\r\n        switch (accion) {\r\n          case \"add\":\r\n            //Agrego al array de categorias el objeto que devuelve el backend\r\n            me.arrayAreas.unshift(areas);\r\n            Toast.fire({\r\n              icon: \"success\",\r\n              title: \"Areas Registrada con Exito\"\r\n            });\r\n            me.loader = false;\r\n            break;\r\n\r\n          case \"upd\":\r\n            //Actualizando al array de categorias el objeto que devuelve el Backend ya con los datos\r\n            //Object.assign(me.arrayAreas[me.editedAreas], areas);\r\n            this.fetchAreas(); \r\n            Toast.fire({\r\n              icon:\"success\",\r\n              title: \"Areas Actualizada con Exito\"\r\n            });\r\n            me.loader = false;\r\n            break;\r\n          case \"del\":\r\n            if (statusCode == 200) {\r\n              try{\r\n                //se elimina del array de categorias activos si todo esta bien en el backend\r\n                me.arrayAreas.splice(me.editedAreas, 1);\r\n                //se lanza mensaje final\r\n                me.$swal.fire(\"Eliminado\", \"Area Eliminada\", \"success\");\r\n              }catch (error) {\r\n                console.log(error);\r\n              }\r\n            }else {\r\n              Toast.fire({\r\n                icon: \"error\",\r\n                title: \"Ocurrido un Error Intente Nuevamente\"\r\n              });\r\n            }\r\n            break;\r\n        }\r\n      },\r\n\r\n    },\r\n    mounted() {\r\n       \r\n      let x = sessionStorage.getItem('tokenS');\r\n      if(x != null){\r\n        this.fetchAreas();\r\n      }else{\r\n         \r\n         this.$router.push('/login')\r\n      }\r\n       \r\n    },\r\n  };\r\n</script>"]}]}